<?xml version="1.0" encoding="utf8"?>
<project basedir="../" default="main">
	<property name="FLEX_HOME" value="E:\Program Files\Adobe\Adobe Flash Builder 4.6\sdks\4.6.0" />
	<taskdef resource="flexTasks.tasks" classpath="${FLEX_HOME}\ant\lib\\flexTasks.jar" />

	<target name="clean">
		<delete dir="bin/*" />
	</target>

    <target name="compile">
    	
    	<fileset dir="${basedir}" id="src.files">
            <include name="**/**"/>
        </fileset>
    	<pathconvert property="src_classes" pathsep=" " dirsep="." refid="src.files">  
        	<map from="\" to="/"/>  
        	<map from="${basedir}/src/" to=""/>  
        	<mapper>  
            <chainedmapper>  
                <globmapper from="*.as" to="*"/>  
            </chainedmapper>  
            </mapper>  
    	</pathconvert>
        <compc
        	output="bin/as3isolib.v1.core.swc"
        	include-classes="${src_classes}"
        	keep-generated-actionscript="false">
        	<source-path path-element="${FLEX_HOME}/frameworks" />
        	<source-path path-element="${basedir}/src" />

        	<compiler.library-path dir="${basedir}" append="true">
        	</compiler.library-path>
		</compc>
    </target>

    <target name="asdoc">
    	<asdoc output="asdoc/" lenient="true" failonerror="true">
    		<doc-sources path-element="${basedir}/src" />
    	</asdoc>
    </target>

    <target name="main" depends="clean,compile"></target>
</project>